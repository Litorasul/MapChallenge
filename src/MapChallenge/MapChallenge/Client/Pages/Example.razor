@page "/example"
@using MapChallenge.Shared.ViewModels
@inject HttpClient Http

<h1>Example: @random</h1>
<button class="btn btn-primary" @onclick="FetchRandom">Click me</button>

@code
{
    private string random = "Empty";

    private IList<CountryViewModel> countries;

    private async Task FetchRandom()
    {
        var continent = "Europe";
        var count = 5;

        countries = await this.Http.GetFromJsonAsync<IList<CountryViewModel>>($"/api/CountriesPerContinent/Count?continent={continent}&count={count}");
        random = countries.First().Name;
    }

}
